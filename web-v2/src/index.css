@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    html {
        @apply antialiased;
        font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    }

    body {
        @apply bg-gray-950 text-gray-200 font-sans;
        background-image:
            radial-gradient(
                ellipse 80% 50% at 50% -20%,
                rgba(99, 102, 241, 0.08),
                transparent
            ),
            linear-gradient(to bottom, #09090b, #0c0c0e);
        min-height: 100vh;
    }

    /* Modern scrollbar */
    ::-webkit-scrollbar {
        @apply w-2 h-2;
    }

    ::-webkit-scrollbar-track {
        @apply bg-transparent;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-gray-700 rounded-full;
        border: 2px solid transparent;
        background-clip: content-box;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-gray-600;
    }

    /* Selection */
    ::selection {
        @apply bg-accent/30 text-white;
    }
}

@layer components {
    /* Buttons */
    .btn {
        @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium
           rounded-lg transition-all duration-150 ease-out
           focus:outline-none focus:ring-2 focus:ring-accent/50 focus:ring-offset-2 focus:ring-offset-gray-900
           disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none;
    }

    .btn-primary {
        @apply btn bg-accent text-white hover:bg-accent-hover
           shadow-subtle hover:shadow-glow active:scale-[0.98];
    }

    .btn-secondary {
        @apply btn bg-gray-800 text-gray-200 border border-gray-700
           hover:bg-gray-750 hover:border-gray-600 active:scale-[0.98];
    }

    .btn-ghost {
        @apply btn text-gray-400 hover:text-gray-200 hover:bg-gray-800;
    }

    .btn-icon {
        @apply w-9 h-9 p-0 rounded-lg text-gray-400
           hover:text-gray-200 hover:bg-gray-800
           transition-colors duration-150;
    }

    /* Inputs */
    .input {
        @apply w-full px-3 py-2 text-sm bg-gray-900 border border-gray-700 rounded-lg
           text-gray-100 placeholder-gray-500
           focus:outline-none focus:border-accent/50 focus:ring-1 focus:ring-accent/30
           transition-all duration-150;
    }

    .select {
        @apply input appearance-none cursor-pointer
           bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22%2371717a%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3Cpath%20d%3D%22m6%209%206%206%206-6%22%2F%3E%3C%2Fsvg%3E')]
           bg-no-repeat bg-[right_0.75rem_center] pr-10;
    }

    /* Cards */
    .card {
        @apply bg-gray-900/50 border border-gray-800 rounded-xl backdrop-blur-sm;
    }

    .card-elevated {
        @apply card shadow-elevated;
    }

    /* Badge */
    .badge {
        @apply inline-flex items-center px-2 py-0.5 text-2xs font-medium rounded-md
           uppercase tracking-wider;
    }

    .badge-accent {
        @apply badge bg-accent/20 text-accent-hover border border-accent/30;
    }

    .badge-muted {
        @apply badge bg-gray-800 text-gray-400 border border-gray-700;
    }

    .badge-success {
        @apply badge bg-success/20 text-success border border-success/30;
    }

    /* Divider */
    .divider {
        @apply h-px bg-gradient-to-r from-transparent via-gray-700 to-transparent;
    }

    /* Gradient border */
    .gradient-border {
        position: relative;
    }

    .gradient-border::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        padding: 1px;
        background: linear-gradient(
            135deg,
            rgba(99, 102, 241, 0.3),
            transparent 50%
        );
        -webkit-mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
        mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        pointer-events: none;
    }
}

@layer utilities {
    /* Text gradient */
    .text-gradient {
        @apply bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400;
    }

    /* Glow effect */
    .glow {
        @apply shadow-glow;
    }

    /* Dot pattern background */
    .bg-dots {
        background-image: radial-gradient(
            circle,
            rgba(99, 102, 241, 0.1) 1px,
            transparent 1px
        );
        background-size: 24px 24px;
    }

    /* Thinking animation */
    .thinking-dot {
        @apply w-1.5 h-1.5 rounded-full bg-accent;
        animation: thinking 1.4s infinite ease-in-out both;
    }

    .thinking-dot:nth-child(1) {
        animation-delay: -0.32s;
    }
    .thinking-dot:nth-child(2) {
        animation-delay: -0.16s;
    }
    .thinking-dot:nth-child(3) {
        animation-delay: 0s;
    }

    @keyframes thinking {
        0%,
        80%,
        100% {
            transform: scale(0.4);
            opacity: 0.4;
        }
        40% {
            transform: scale(1);
            opacity: 1;
        }
    }

    /* Shimmer effect for loading */
    .shimmer {
        @apply relative overflow-hidden;
    }

    .shimmer::after {
        content: "";
        position: absolute;
        inset: 0;
        transform: translateX(-100%);
        background: linear-gradient(
            90deg,
            transparent,
            rgba(255, 255, 255, 0.03),
            transparent
        );
        animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
        100% {
            transform: translateX(100%);
        }
    }
}
